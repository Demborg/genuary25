<!DOCTYPE html>

<script>

    const size = 400
    function onion() {
        svg = document.getElementById("svg")
        const topRadius = 25
        const bulbRadius = 150
        const top = 50
        const bulbHeight = 200
        const bottom = 300
        const smooth = 75
        const lift = 20

        const layers = 10
        const mid = size / 2

    
        for (let s = 1; s > 0.01; s -= 1/layers) {
            const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');

            b = bottom - lift * (1- s)

            data = `
                M ${mid - s * topRadius} ${top}
                C ${mid - s * topRadius} ${top + smooth} ${mid - s * bulbRadius} ${bulbHeight - smooth} ${mid - s * bulbRadius} ${bulbHeight}
                S ${mid - s * smooth} ${b} ${mid} ${b}
                S ${mid + s * bulbRadius} ${bulbHeight + smooth} ${mid + s * bulbRadius} ${bulbHeight}
                S ${mid + s * topRadius} ${top + smooth} ${mid + s * topRadius} ${top}
            `

            path.setAttribute("d", data)
            path.setAttribute("stroke", "black")
            path.setAttribute("fill", "transparent")

            svg.appendChild(path)
        }




    }
    window.onload = onion

</script>

<body>
    <svg height="400" width="400" id="svg">
    </svg>
</body>